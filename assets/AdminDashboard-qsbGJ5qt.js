import{m as h,_,r as i,o as d,c as v,b as s,a as e,e as o,f as n,d as b,g as k,h as $,F as M}from"./index-vWNHF2ZC.js";import{u as m}from"./toastMessage-EB0FMTIy.js";import{T as x}from"./ToastMessages-JfuLARWJ.js";const N={methods:{...h(m,["pushMessage"]),logout(){this.$http.post("https://vue3-course-api.hexschool.io/v2//logout").then(a=>{this.pushMessage({style:"success",title:"登出狀態",content:a.data.message}),this.$router.push("/")}).catch(a=>{this.pushMessage({style:"danger",title:"登出狀態",content:a.response.data.message})})}}},y={class:"navbar navbar-expand-lg navbar-dark bg-dark"},T={class:"container-fluid"},A=s("a",{class:"navbar-brand",href:"#"},"舒果甜點舖",-1),V=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1),L={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},w={class:"navbar-nav"},B={class:"navbar-nav ms-auto"};function C(c,a,r,g,p,l){const t=i("RouterLink");return d(),v("nav",y,[s("div",T,[A,V,s("div",L,[s("div",w,[e(t,{to:"/admin/products",class:"nav-link"},{default:o(()=>[n("產品")]),_:1}),e(t,{to:"/admin/orders",class:"nav-link"},{default:o(()=>[n("訂單")]),_:1}),e(t,{to:"/admin/coupons",class:"nav-link"},{default:o(()=>[n("優惠券")]),_:1}),e(t,{to:"/admin/article",class:"nav-link"},{default:o(()=>[n("貼文")]),_:1}),s("a",{href:"#",onClick:a[0]||(a[0]=b((...u)=>l.logout&&l.logout(...u),["prevent"])),class:"nav-link"},"登出")]),s("div",B,[e(t,{to:"/user/articles",class:"nav-link"},{default:o(()=>[n("部落格文章")]),_:1}),e(t,{to:"/user/cart",class:"nav-link"},{default:o(()=>[n("購物車")]),_:1})])])])])}const R=_(N,[["render",C]]),F={components:{NavbarLayout:R,ToastMessages:x},data(){return{status:!1}},methods:{...h(m,["pushMessage"])},created(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${c}`,this.$http.post("https://vue3-course-api.hexschool.io/v2//api/user/check").then(r=>{this.pushMessage({style:"success",title:"成功登入",content:r.data.message}),this.status=!0}).catch(r=>{this.pushMessage({style:"danger",title:"錯誤訊息",content:r.response.data.message}),this.$router.push("/")})}},z={class:"container-fluid mt-3 position-relative"};function D(c,a,r,g,p,l){const t=i("NavbarLayout"),u=i("ToastMessages"),f=i("RouterView");return d(),v(M,null,[e(t),s("div",z,[e(u),p.status?(d(),k(f,{key:0})):$("",!0)])],64)}const q=_(F,[["render",D]]);export{q as default};
